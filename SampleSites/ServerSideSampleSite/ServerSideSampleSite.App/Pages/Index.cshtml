@page "/"
@inject I18nText I18nText
@using System.Runtime.InteropServices

<h1>@Text.HelloWorld</h1>

<p>FrameworkDescription: @RuntimeInformation.FrameworkDescription</p>
<p>OSDescription: @RuntimeInformation.OSDescription</p>
<p>OSArchitecture: @RuntimeInformation.OSArchitecture</p>
<p>ProcessArchitecture: @RuntimeInformation.ProcessArchitecture</p>

<p>Welcome to your new app.</p>

<SurveyPrompt Title="How is Blazor working for you?" />

<div>
    <span><button onclick="@(()=> SetLang("en"))">English</button></span>
    <span><button onclick="@(()=> SetLang("ja"))">日本語</button></span>
</div>

@functions{

    Text Text = new Text();

    protected override async Task OnInitAsync()
    {
        this.Text = await I18nText.GetTextTableAsync<Text>(this);
    }

    async Task SetLang(string langCode)
    {
        await I18nText.SetCurrentLanguageAsync(langCode);
    }
}